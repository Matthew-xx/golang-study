# docker网络管理

## 铺垫基础

1. 查看网桥

        brctl show

2.  查看本机开放端口

        netstat -tunlp
    
3. 指代本机的所有ip  0.0.0.0，一般用来监听，处理多ip的情况。
4. 本机回环地址 127.0.0.1 本机访问本机用的，不走外面
5. 本机ip:指当前网络范围内，本机的地址，本机如果访问，会绕一圈回来
6. localhost:域名，默认指向127.0.0.1，不改配置的话，就当回环地址用


## 端口映射

分为随机映射和指定映射，注意端口映射的在宿主机上的实现是通过虚拟网卡实现的，资源开销比较大。
由端口映射的容器网络都属于bridge网络模式。

### 随机映射

docker run -d -P [镜像名称]

0.0.0.0:32768->80/tcp
随机映射的端口号，从32768开始，依次分配。

###  自定义映射

docker run -d -p  [宿主机ip]:[宿主机端口]:[容器端口]  [镜像名称]

均可省略，默认就是随机配置

docker run -d -p ::80 ngnix

### 多端口映射

有几个端口，就写几个-p

docker run -d -p 520:443 -p 666:80 nginx

## 网络查看命令

1. 查看docker网络模式类型

    docker network ls

2. 使用网络命令，查看docker容器间网络

    docker network inspect [容器名]

3. 使用容器命令，查看容器所在网络

        docker inspect [容器名]  
        所输出的详细信息中，存在网络描述

4. 直接查看容器的端口映射

        docker port [容器名]  