# 镜像管理

镜像是可执行文件，包含所有代码、依赖、配置、环境变量。通过执行镜像可生成对应的容器。
镜像是死的，容器是活的。

## 镜像搜索，获取，查看

docker search，docker pull，docker images

## 重命名

docker tag [老名称:版本] [新名称：版本]

## 删除

docker rmi

## 导出为tar

docker save [导出后名称] [要导出的镜像]

## 导入tar镜像文件

docker load [文件名]

## 查看镜像历史版本信息

docker history [镜像名]

## 查看镜像详细信息

docker inspect  [镜像名]

## 基于模板文件创建镜像

下载模板文件

cat [模板文件] | docker import - [给镜像取得名字]

## 基于容器创建镜像

docker commit -m "注释" -a "作者"  [容器名] [给镜像取得名字：tag]

## 基于容器创建模板文件，再给予模板创建镜像

docker export [容器名] > 模板文件名.tar

后面操作不赘述

## 导入导出，加载保存的区别

import 从模板文件导入，可以重新指定镜像名字
load 从镜像文件加载，不能改镜像名字

export 导出的是模板，体积小
save 保存的是镜像实体，偏大，保存有镜像所有历史

根据以上的区别，可以得出结论：
加载和保存的是镜像实体，保留了镜像所有的历史信息
导入导出的是现有文件集合组成的新模板数据，不包含历史版本，而且更灵活，可新指定名字。
