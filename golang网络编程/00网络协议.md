# 网络协议

## 网络分层

### OSI七层协议模型

1. 物理层：这一层规定了网卡、接口之类的协议标准。这一层的视角看来，规定比特流如何传输。

2. 数据链路层：这一层规定数据的具体传输协议。将比特流转换为若干传输线路。

3. 网络层：这一层规定多个传输线路的路由选择，限定传输范围等。

4. 传输层：这一层将网络层的数据初步分割成数据包，进行传输控制，保证传输过程。

5. 会话层：这一层通过传输层构建了用户会话的基础，相当于两个人可以交流了。

6. 表示层：这一层，将会话层的数据进行标准化的转换，相当于翻译。

7. 应用层：语言通过表示层打通了，开始构建语法，以更清晰表达。

### TCP/IP的四层协议

1. 网络接口层：将上述1、2合并为网络接口层，也叫链路层。通过设备的物理地址，可以实现设备到设备的数据传输（mac到mac）

2. 网际层IP:对应上述网络层,增加一层逻辑地址：网络地址，通过IP段的限制和管理，确保全网大规模设备群的情况下，保证主机到主机的传输（IP到IP）

3. 传输层（TCP/UDP）.对应上述传输层。主机内可能同时运行不同进程，可以确保主体通讯能到达操作系统的进程级别（端口到端口）

4. 应用层，合并了5、6、7，根据特定应用制定的协议层，确保最终合理展示和应用数据。（应用到应用）

### 数据视角

在每一层视角看到的数据

1.应用层：HTTP报文：包裹了HTTP头部和用户数据
2.传输层：TCP数据包：TCP首部+HTTP报文
3.网络层：IP数据包：IP首部+TCP数据包
4.链路层：以太网数据：以太网数据头+IP数据包
