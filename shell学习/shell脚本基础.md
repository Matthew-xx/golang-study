# shell 基础

## shell 格式

### 脚本文件格式

    fileName.sh 一般使用sh结尾，一目了然

### 书写格式

第一行可以指定命令解析器。格式如下

```sh
    #!/bin/bash
```

注意事项：

1. 如果不指定，则默认为/bin/sh
2. # 指定注释

## shell执行

### 添加执行权限

    chmod 777  xx.sh 
    或者 
    chmod a+x xx.sh
注意： 

用户权限分为：用户本身权限，用户所在组的其他用户权限、其他用户权限。
权限为读、写、执行

字母指代：u、g、o。数字按位置指代。
权限指代：r w x，数字是按 4、2、1来指代。

### 执行脚本

    ./xxx.sh

## shell中的变量sh

### 普通变量

普通变量仅在本进程中有效，生命周期随进程结束而结束

#### 定义普通变量

格式： 

    temp=555

注意：等号两边没有空格，shell中空格是分隔符，如果使用两个空格分隔，shell会识别成 命令和两个参数。

### 环境变量

环境变量,是系统级别的变量，共享访问。

#### 系统自带环境变量

   - PWD
   - SHELL
   - PSTH
   - HOME

#### 用户自定义环境变量

两种方式：

1. 使用set：在普通变量前加set
    
    set GOPATH=/home/lerix/go/src

2. 使用export:  

export GOPATH=/home/lerix/go/src

一般使用后者，写入到~/.bashrc中，随系统启动自动执行，从而使系统存在这些环境变量

### 位置变量

执行脚本的时候，可以给脚本传递参数，脚本内部接收这些参数就是利用的位置变量。
实例： test.sh aa bb cc

- $0 ：tesh.sh
- $1 :aa
- $2 :bb
- 以此类推

其中有个$?为状态码

注意：格式化输出时，需要被双引号包裹，用单引号会原生输出。

### 特殊变量

- $# :获取传递的参数个数
- $@ ：给脚本传递的所有参数
- $? ：脚本执行完成之后的状态：失败(>0)或成功(0)
- $$ :脚本进程执行之后对应的进程id
